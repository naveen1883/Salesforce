<aura:component controller="AuraAccount"
                implements="force:appHostable,forceCommunity:availableForAllPageTypes,flexipage:availableForAllPageTypes"
                access="global">
    
    <aura:attribute name="displayNewAccount" type="Boolean" default="false"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" /> <!-- calling doInit method in Component Controller -->
    <aura:handler event="c:NewClosedModalEvent" action="{!c.newClosedModal}"/> <!-- create event for closed modal-->
    <aura:attribute name="accLst" type="Account[]"/> <!-- create Array type Account variable-->
    <article class="slds-card">
      <div class="slds-card__header slds-grid">
        <header class="slds-media slds-media_center slds-has-flexi-truncate">
          <div class="slds-media__figure">
            <span class="slds-icon_container slds-icon-standard-account" title="description of icon when needed">
                <lightning:icon iconName="standard:account" size="large" alternativeText="List account"/>
            </span>
          </div>
          <div class="slds-media__body">
            <h2>
              <a href="javascript:void(0);" class="slds-card__header-link slds-truncate" title="Account">
                <span class="slds-text-heading_small">Account List</span>
              </a>
            </h2>
          </div>
        </header>
        <div class="slds-no-flex">
          <lightning:button label="New Account" onclick="{!c.showAccountModal}"/>
        </div>
      </div>
      <div class="slds-card__body">
        <table class="slds-table slds-table_bordered slds-no-row-hover slds-table_cell-buffer">
          <thead>
            <tr class="slds-text-title_caps">
              <th scope="col">
                <div class="slds-truncate" title="S.no">S.No</div>
              </th>
              <th scope="col">
                <div class="slds-truncate" title="Name">Account Name</div>
              </th>
              <th scope="col">
                <div class="slds-truncate" title="Phone">Phone</div>
              </th>
                <th scope="col">
                <div class="slds-truncate" title="Action">Action</div>
              </th>
            </tr>
          </thead>
          <tbody>
              <aura:iteration items="{!v.accLst}" var="acc" indexVar="count"> <!-- iteration account record-->
                  <tr>
                      <td>
                          <div class="slds-truncate">{!count + 1}</div>
                      </td>
                      <td>
                          <div class="slds-truncate">{!acc.Name}</div>
                      </td>
                      <td>
                          <div class="slds-truncate">{!acc.Phone}</div>
                      </td>
                      <td>
                          <div class="slds-truncate">
                              <button type="button" id="{!acc.Id}" onclick="{!c.handleClick}">View</button>
                          </div>    
                      </td>
                  </tr>                     
              </aura:iteration>
          </tbody>
        </table>
      </div>
      <footer class="slds-card__footer"><a href="javascript:void(0);"></a></footer>
    </article>
   <aura:if isTrue="{!v.displayNewAccount}">
        <c:AddNewAccount /> <!-- New Account Form -->
    </aura:if>
 </aura:component>
